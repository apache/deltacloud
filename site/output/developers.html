<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>
      Deltacloud - Information for Developers
    </title>
    <meta content='' name='keywords' />
    <meta content='' name='description' />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type' />
    <link href='./styles/favicon.ico' rel='shortcut icon' type='image/x-icon' />
    <link href='./styles/default.css' rel='StyleSheet' title='Main style' type='text/css' />
    <link href='./styles/default-debug.css' rel='Alternate StyleSheet' title='Debug main style' type='text/css' />
  </head>
  <body>
    <div id='header'>
      <div class='container'>
        <div id='headerLogo' onclick="location.href='index.html';" style='cursor: pointer;'>
          <h1>
            Deltacloud - Many clouds. One API. No problem.
          </h1>
        </div>
      </div>
    </div>
    <div id='navigation'>
      <div class='container' id='menu'>
        <ul class='l0'>
          <li>
            <a class='inactive' href='./index.html' title='Deltacloud Home'>Home</a>
          </li>
          <li>
            <a class='inactive' href='./download.html' title='Get the latest releases'>Download</a>
          </li>
          <li>
            <a class='active' href='./developers.html' title='Information for developers'>Developers</a>
          </li>
          <li>
            <a class='inactive' href='./documentation.html' title='Project documentation'>Documentation</a>
          </li>
          <li>
            <a class='inactive' href='./contact.html' title='Contact us!'>Contact</a>
          </li>
        </ul>
      </div>
    </div>
    <div id='frontpageHeader'></div>
    <div id='main'>
      <div class='container' id='content-deltacloud'>
        <h1>Contribute to the Deltacloud Project</h1>
        
        <p><a href="http://www.apache.org/" title="The Apache Software Foundation">Apache</a> Deltacloud is
        free, open source software licensed under the
        <a href="http://www.apache.org/licenses/LICENSE-2.0" title="The Apache License">apache license</a>.
        Please feel free to <a href="contact.html">contact us</a> if you have any questions about the
        project or with any suggestions on how to improve Deltacloud. The Deltacloud
        developer community is open to anyone that wants to contribute!</p>
        
        <p>This page contains information for developers:</p>
        
        <p><a name="contents" /></p>
        
        <p><ul class="toc">
        <li>
        <a href="#h1">Setting up the developer environment</a>
        <ul>
        <li>
        <a href="#h1_1">Getting the sources</a>
        </li>
        <li>
        <a href="#h1_2">Development dependencies</a>
        </li>
        <li>
        <a href="#h1_3">Building from source and installing the Deltacloud gem</a>
        </li>
        </ul>
        </li>
        <li>
        <a href="#h2">Contribute to Deltacloud</a>
        <ul>
        <li>
        <a href="#h2_1">Overview of the Deltacloud directory structure</a>
        </li>
        <li>
        <a href="#h2_2">Forming and sending patches</a>
        </li>
        <li>
        <a href="#h2_3">Use the Deltacloud github mirror</a>
        </li>
        <li>
        <a href="#h2_4">Writing a new cloud provider driver</a>
        </li>
        <li>
        <a href="#h2_5">Writing and running tests</a>
        </li>
        <li>
        <a href="#h2_6">Licensing - the Apache Individual Contributor License Agreement</a>
        </li>
        </ul></li></ul></p>
        
        <br>
        
        
        <hr />
        
        <br>
        
        
        <h2 id="h1">Setting up the developer environment</h2>
        
        <p>The information here is about setting up a dev environment for Deltacloud. If you
        are interested in first trying out Deltacloud, you should instead follow the
        instructions in the <a href="download.html">Download</a> page and read the
        <a href="documentation.html#install_deltacloud">installation and quick start guide</a>.</p>
        
        <p>Before setting up the development environment, make sure you have all the
        <a href="documentation.html#dependencies">installation dependencies</a>.</p>
        
        <h3 id="h1_1">Getting the sources</h3>
        
        <p>Deltacloud provides the API server and drivers to various cloud providers.
        It also includes a ruby client library and a commandline interface.</p>
        
        <p><strong>First, make sure you have installed all <a href="documentation.html#dependencies">dependencies</a>.</strong></p>
        
        <p>The Deltacloud repository is hosted at the Apache Software Foundation.
        Apache uses <strong><em>subversion</em></strong> and you can find the Deltacloud subversion repository
        at <a href="https://svn.apache.org/repos/asf/incubator/deltacloud">https://svn.apache.org/repos/asf/incubator/deltacloud</a>.</p>
        
        <p>However many of the Deltacloud developers use the
        <a href="http://git-scm.com/download">git version control system</a> and the Deltacloud
        code is available through a git mirror. The instructions on this page are
        thus specific to using <strong><em>git</em></strong> for getting the code and also
        for making and sending patches.</p>
        
        <p>If you don't already have <strong><em>git</em></strong> there are
        <a href="http://git-scm.com/download">git binaries</a> available for specific systems.
        Alternatively, if you use the <strong><em>yum</em></strong> or <strong><em>apt</em></strong> package managers:</p>
        
        <pre><code>$ sudo yum install git&#x000A;        &lt;OR&gt;&#x000A;$ sudo apt-get install git&#x000A;</code></pre>
        
        <p>With <strong><em>git</em></strong> in place, to get the latest HEAD of the Deltacloud git repo:</p>
        
        <pre><code>$ mkdir DeltacloudProject&#x000A;$ cd DeltacloudProject&#x000A;$ git clone git://git.apache.org/deltacloud.git&#x000A;</code></pre>
        
        <br>
        
        
        <p><a href="#contents">contents</a></p>
        
        <hr />
        
        <br>
        
        
        <h3 id="h1_2">Development dependencies</h3>
        
        <p>Apart from the <a href="documentation.html#dependencies">installation dependencies</a>,
        in order to develop for Deltacloud you will need some additional libraries,
        such as <a href="http://cukes.info/">cucumber</a>,
        <a href="http://bashdb.sourceforge.net/ruby-debug/home-page.html">ruby-debug</a> and
        <a href="http://rspec.info/">rpsec</a>. The Deltacloud source includes a Gemfile which
        lists these development dependencies: <strong>/path/to/deltacloud/server/Gemfile</strong>.</p>
        
        <p>Thus, the recommended way to get all development dependencies is with
        <a href="http://gembundler.com/">Bundler</a>. If you don't already have bundler, install
        it:</p>
        
        <pre><code>$ sudo gem install bundler&#x000A;</code></pre>
        
        <p>Then, you can get all the required developer dependencies by:</p>
        
        <pre><code>$ cd /path/to/deltacloud/server&#x000A;$ bundle install --system&#x000A;</code></pre>
        
        <br>
        
        
        <p><a href="#contents">contents</a></p>
        
        <hr />
        
        <br>
        
        
        <h3 id="h1_3">Building from source and installing the Deltacloud gem</h3>
        
        <p>To build and install the Deltacloud server gem:</p>
        
        <pre><code>$ cd path/to/DeltacloudProject/deltacloud/server&#x000A;$ rake package&#x000A;$ sudo gem install pkg/deltacloud-core-&lt;version&gt;.gem&#x000A;</code></pre>
        
        <p>Then install the Deltacloud client gem:</p>
        
        <pre><code>$ cd path/to/DeltacloudProject/deltacloud/client&#x000A;$ rake package&#x000A;$ sudo gem install pkg/deltacloud-client-&lt;version&gt;.gem&#x000A;</code></pre>
        
        <br>
        
        
        <p><a href="#contents">contents</a></p>
        
        <hr />
        
        <br>
        
        
        <h2 id="h2">Contribute to Deltacloud</h2>
        
        <p>The information here is aimed at helping developers more quickly understand the Deltacloud
        project code, the process used by the development community for contributing and some
        guidelines on how to go about adding a cloud provider driver to the Deltacloud project.</p>
        
        <h3 id="h2_1">Overview of the Deltacloud directory structure</h3>
        
        <p><strong>Note:</strong> the following is not an exhaustive list of all files and directories in the
        Deltacloud project. Rather it is intended as an aid to ease familirisation
        with the project files for developers - for example to quickly identify where
        the Deltacloud cloud provider drivers are stored:</p>
        
        <p><a name="deltacloud_directories"> .</a></p>
        
        <pre><code>deltacloud&#x000A;|-----------------------------------------------------------------------------------&#x000A;|-d--&gt;tests                           Contains Cucumber tests&#x000A;|-----------------------------------------------------------------------------------&#x000A;|-d--&gt;site                            Files for this website&#x000A;|-----------------------------------------------------------------------------------&#x000A;|-d--&gt;client                          Contains the Deltacloud ruby client&#x000A;|-----------------------------------------------------------------------------------&#x000A;|-d--&gt;clients                         Contains other Deltacloud clients (e.g. java)&#x000A;|-----------------------------------------------------------------------------------&#x000A;|-d--&gt; server&#x000A;       |----------------------------------------------------------------------------&#x000A;       |-f--&gt;server.rb                Contains the sinatra routes&#x000A;       |----------------------------------------------------------------------------&#x000A;       |-d--&gt;bin                      Contains the Deltacloud executable deltacloudd&#x000A;       |----------------------------------------------------------------------------&#x000A;       |-d--&gt;views                    Contains haml views for each collection&#x000A;       |----------------------------------------------------------------------------&#x000A;       |-d--&gt;tests                    Contains unit tests for drivers&#x000A;       |----------------------------------------------------------------------------&#x000A;       |-d--&gt;lib&#x000A;             |----------------------------------------------------------------------&#x000A;             |-d--&gt;sinatra            Contains rabbit DSL and various helpers&#x000A;             |----------------------------------------------------------------------&#x000A;             |-d--&gt;deltacloud&#x000A;                   |----------------------------------------------------------------&#x000A;                   |-d--&gt;models       Definition of each collection model&#x000A;                   |----------------------------------------------------------------&#x000A;                   |-d--&gt;drivers      Contains the drivers for each cloud provider&#x000A;                   |----------------------------------------------------------------&#x000A;                   |-d--&gt;helpers      Various helper methods used by the drivers&#x000A;                   |----------------------------------------------------------------&#x000A;                   |-d--&gt;base_driver  Contains the Deltacloud base driver&#x000A;                   |----------------------------------------------------------------&#x000A;</code></pre>
        
        <br>
        
        
        <p><a href="#contents">contents</a></p>
        
        <hr />
        
        <br>
        
        
        <h3 id="h2_2">Forming and sending patches</h3>
        
        <p>There are many ways to work with git and there are many
        <a href="http://book.git-scm.com/">good resources</a> on using git. The Deltacloud community uses
        a <strong><em>local_branch</em></strong> ---> <strong><em>patch</em></strong> ---> <strong><em>review</em></strong> ---> <strong><em>accept</em></strong> ---> <strong><em>commit</em></strong>
        process for contributing to the project. The following shows the typical workflow used
        by the core developers.</p>
        
        <p>First you need to set some settings inside the git configuration file. In the root
        of the git project (Deltacloud in this case) there is a .git hidden directory containing
        the config file. Open this with your preferred editor:</p>
        
        <pre><code>$ vim deltacloud/.git/config&#x000A;</code></pre>
        
        <p>Add the following to any existing configuration replacing the relevant values with your own:</p>
        
        <pre><code>[sendemail]&#x000A;signedoffbycc = no&#x000A;chainreplyto = no&#x000A;smtpserver = your_smpt.server.address&#x000A;thread = yes&#x000A;from = your_email_address&#x000A;suppresscc = all&#x000A;&#x000A;[core]&#x000A;whitespace = trailing-space,space-before-tab&#x000A;&#x000A;[apply]&#x000A;whitespace = error-all&#x000A;</code></pre>
        
        <p>After getting the latest HEAD of the Deltacloud git repo, you will have one local
         branch called <strong><em>trunk</em></strong>.</p>
        
        <pre><code>$ git branch&#x000A;* trunk&#x000A;</code></pre>
        
        <p>Fetch the latest changes from the git repo:</p>
        
        <pre><code>$ git pull&#x000A;</code></pre>
        
        <p>Make a new local branch for your edits and give it a name:</p>
        
        <pre><code>$ git checkout -b my_new_branch&#x000A;</code></pre>
        
        <p>Make your edits/changes/voodoo. Once done, review which files you changed:</p>
        
        <pre><code>$ git status&#x000A;</code></pre>
        
        <p>Once you are happy with the changes and everything is working, commit those changes
        to your local branch:</p>
        
        <pre><code>$ git commit -a&#x000A;</code></pre>
        
        <p>This will open an editor (e.g., vi) for you to enter a commit message. Please keep this
        short and succint in general and keep individual lines at no longer than 80 characters.
        The command <strong>git log</strong> will show you recent commits together with their commit messages
        as examples.</p>
        
        <p>At this point, your local branch will contain the changes that you worked on and will
        be different from your <strong><em>local</em></strong> <strong>trunk</strong> branch. In the meantime, other developers
        may have already committed changes to the <strong><em>remote</em></strong> <strong>trunk</strong> branch in the Apache git repo.
        Thus, you need to fetch any new changes and merge into your <strong><em>local</em></strong> <strong>trunk</strong> and then
        rebase your local <strong>trunk</strong> onto the new branch which contains your changes.</p>
        
        <p>Change to trunk and fetch upstream changes if any:</p>
        
        <pre><code>$ git checkout trunk&#x000A;$ git pull&#x000A;</code></pre>
        
        <p>Your <strong><em>local</em></strong> trunk is now up-to-date with the <strong><em>remote</em></strong> trunk in the git repo.
        Next, rebase the <strong><em>local</em></strong> trunk onto the branch containing your changes:</p>
        
        <pre><code>$ git rebase trunk my_new_branch&#x000A;</code></pre>
        
        <p>Now you are ready to make patches against trunk and send them to the Deltacloud mailing
        list for review by other developers in the community:</p>
        
        <pre><code>$ git format-patch -o /path/to/where/you/keep/patches/ trunk&#x000A;&#x000A;$ git send-email --compose --subject 'some subject'&#x000A;  --thread /path/to/where/you/keep/patches/* --to deltacloud-dev@incubator.apache.org&#x000A;</code></pre>
        
        <p>Your patches will be reviewed by other members of the community. The general rule used
        is that a patch will be committed to the repo if it receives at least one <strong>ACK</strong> and no
        <strong>NACK</strong>. Once a patch is <strong>ACK</strong>ed it will be committed by one of the Deltacloud community
        developers that have commit rights to the Apache repo. If your patches are on the mailing
        list for a few days and no-one is responding to them feel free to send a reminder email
        as patches may be missed/forgotten.</p>
        
        <p>You can also contribute to the project by reviewing patches sent by other contributors:</p>
        
        <p>Make a new branch where you will apply the patches and test:</p>
        
        <pre><code>$ git checkout -b jsmith_patches&#x000A;</code></pre>
        
        <p>You can use either git am ("apply mail") to apply patches in mail format, or git apply for
        plain-text patches. Using git am will also commit the patches to the local branch
        preserving the author's commit messages whilst git apply will only apply the files but not
        commit them. For simple patch review the difference between these is insignificant and
        boils down to whether you like to save the patches as plain-text or in .mbox email format.</p>
        
        <p>Save the patches to some known location, make sure you're on the branch you wish to apply
        them onto, and then apply:</p>
        
        <pre><code>$ git checkout jsmith_patches&#x000A;&#x000A;$ cat /path/to/patches/0001-name-of-patch.txt | git apply&#x000A;                         _OR_&#x000A;$ git am /path/to/patches/0001-name-of-patch.eml&#x000A;</code></pre>
        
        <p>If you think the patches are sane, do what the author intended and most importantly don't
        break anything else, then you can send an <strong>ACK</strong> in response to the patches on the
        Deltacloud <a href="contact.html">mailing list</a>. Similarly, if you think there is some problem
        with the patches you should send a <strong>NACK</strong> with an explanation of the problem you have
        found so that the author can address this.</p>
        
        <br>
        
        
        <p><a href="#contents">contents</a></p>
        
        <hr />
        
        <br>
        
        
        <h3 id="h2_3">Use the Deltacloud github mirror</h3>
        
        <p>The Deltacloud project maintains a
        <a href="https://github.com/apache/deltacloud">github page</a> which mirrors the Apache
        repository. You can contribute through github if that is preferrable.
        <a href="http://help.github.com/fork-a-repo/">Fork</a> the Deltacloud repo, make your changes and
        commit them back to your fork. Then issue a
        <a href="http://help.github.com/send-pull-requests/">pull request</a>. It may also be wise to
        send an email to the Deltacloud <a href="contact.html">mailing list</a> to let the community know
        about your pull request as in general the mailing list is checked much more often than
        the github page.</p>
        
        <br>
        
        
        <p><a href="#contents">contents</a></p>
        
        <hr />
        
        <br>
        
        
        <h3 id="h2_4">Writing a new cloud provider driver</h3>
        
        <p>The deltacloud drivers live in
        <a href="#deltacloud_directories">deltacloud/server/lib/deltacloud/drivers</a>. The information here
        is intended as a primer for anybody that wants to contribute a new cloud provider driver to
        the Deltacloud project.</p>
        
        <p>To add a driver for a hypothetical <strong>Foo</strong> cloud, you should start by adding a a directory
        under /drivers/ and then a file for the driver itself, i.e.:</p>
        
        <pre><code>deltacloud/server/lib/deltacloud/drivers/foo/foo_driver.rb&#x000A;</code></pre>
        
        <p>That file needs to define a class <strong>Deltacloud::Drivers::Foo::FooDriver</strong> and must be
        a subclass of the Deltacloud::BaseDriver (example follows).</p>
        
        <p>You need to decide which <a href="api.html#h1">collections</a> the provider for which you're
        writing the driver supports - e.g. images, instances, keys, buckets/blobs (storage), etc.
        and declare these with:</p>
        
        <pre><code>def supported_collections&#x000A;  DEFAULT_COLLECTIONS + [ :buckets ] - [ :storage_snapshots, :storage_volumes ]&#x000A;end&#x000A;</code></pre>
        
        <p>The above declares that the driver supports the <strong>DEFAULT_COLLECTIONS</strong> (defined in
        <strong>deltacloud/server/lib/drivers.rb</strong>) except <a href="api.html#h4_2">storage_snapshots</a> and
        <a href="api.html#h4_1">storage_volumes</a> and additionally also supports the
        <a href="api.html#h4_3">buckets</a> collection. For example, a storage only cloud provider driver
        would support only the <strong>buckets</strong> colletion.</p>
        
        <p>You can then start to define the methods for each of the collections that your driver
        will support. The methods for each collection, as well as the routes that map to them
        are defined in <strong>/deltacloud/server/server.rb</strong>. In general you can look at the existing
        drivers for pointers on how to implement any specific method.</p>
        
        <p>One important consideration is how your cloud provider driver will be communicating
        with the cloud provider. Many of the existing drivers use external ruby gems for this
        purpose: for example, the <strong>ec2</strong> driver uses the <a href="https://github.com/appoxy/aws/">aws</a>
        gem, the <strong>rackspace</strong> driver uses the
        <a href="https://github.com/rackspace/ruby-cloudfiles">cloudfiles</a> and
        <a href="https://github.com/rackspace/ruby-cloudservers">cloudservers</a> gems. However, other drivers
        implement their own clients with which to communicate with the cloud provider, such as
        the IBM SBC driver and the Gogrid driver. This also explains why, under the /drivers
        directory, some drivers contain only the provider_<strong><em>driver</em></strong>.rb file, whilst others also
        define a provider_<strong><em>client</em></strong>.rb file. Whether you write your own client or use an existing
        one is entirey at your discretion.</p>
        
        <p>Thus, your driver for the cloud provider foo may start out looking something like:</p>
        
        <pre><code>require 'deltacloud/base_driver'&#x000A;require 'foo_lib' # a library for talking to the foo cloud&#x000A;&#x000A;module Deltacloud&#x000A;  module Drivers&#x000A;    module Foo&#x000A;&#x000A;class FooDriver &lt; Deltacloud::BaseDriver&#x000A;&#x000A;    def supported_collections&#x000A;      DEFAULT_COLLECTIONS + [ :buckets ]&#x000A;    end&#x000A;&#x000A;    def images(credentials, opts={})&#x000A;      client = new_foo_client(credentials)&#x000A;      # use client to get a list of images from the back-end cloud and then create&#x000A;      # a Deltacloud Image object for each of these. Filter the result&#x000A;      # (eg specific image requested) and return to user&#x000A;    end&#x000A;&#x000A;    def realms(credentials, opts={})&#x000A;      (...)&#x000A;    end&#x000A;&#x000A;    def instances(credentials, opts={})&#x000A;      (...)&#x000A;    end&#x000A;&#x000A;    ... ETC&#x000A;&#x000A;    private&#x000A;&#x000A;    def new_foo_client(credentials)&#x000A;      client = FooLib::Service.new({:user =&gt; credentials.user,&#x000A;                                    :pass =&gt; credentials.password })&#x000A;    end&#x000A;&#x000A;end&#x000A;        end&#x000A;      end&#x000A;    end&#x000A;</code></pre>
        
        <p>One important method for drivers that implement the <a href="api.html#h3_5">instances</a>
        collection is <strong>instance_states</strong>. This method represents the finite-state-machine
        for instances which varies across cloud providers. For example, in some clouds
        an instance may be in the 'running' state after creation, whereas in other clouds
        an instance may need to be started explicitly. An example of what this method may
        look like is:</p>
        
        <pre><code>define_instance_states do&#x000A;  start.to( :pending )          .on( :create )&#x000A;  pending.to( :running )        .automatically&#x000A;  running.to( :running )        .on( :reboot )&#x000A;  running.to( :shutting_down )  .on( :stop )&#x000A;  shutting_down.to( :stopped )  .automatically&#x000A;  stopped.to( :finish )         .automatically&#x000A;end&#x000A;</code></pre>
        
        <p>The voodoo used here (i.e. definition of .to and .on etc) is defined in
        /deltacloud/server/lib/deltacloud/state_machine.rb.</p>
        
        <p>Valid states are</p>
        
        <ul>
        <li><strong><code>:begin</code></strong></li>
        <li><strong><code>:pending</code></strong></li>
        <li><strong><code>:running</code></strong></li>
        <li><strong><code>:shutting_down</code></strong></li>
        <li><strong><code>:stopped</code></strong></li>
        <li><strong><code>:end</code></strong></li>
        </ul>
        
        
        <p>The <code>:begin</code> state is the state an instance is in immediate before
        being created. The <code>:end</code> state is the state an instance is in
        immediately after being destroyed.</p>
        
        <p>Valid transition actions are</p>
        
        <ul>
        <li><strong><code>:stop</code></strong></li>
        <li><strong><code>:start</code></strong></li>
        <li><strong><code>:reboot</code></strong></li>
        </ul>
        
        
        <p>Additionally, to indicate a transition that may occur <em>without</em> an
        action being triggered, the action <strong><code>:automatically</code></strong> may be used,
        as shown in the example above.</p>
        
        <p>Depending on the collections you'll be supporting, some other methods that
        your driver may implement are:</p>
        
        <ul>
        <li><code>hardware_profiles(credentials, opts=nil)</code></li>
        <li><code>images(credentials, opts=nil )</code></li>
        <li><code>realms(credentials, opts=nil)</code></li>
        <li><code>instances(credentials, opts=nil)</code></li>
        <li><code>create_instance(credentials, image_id, opts)</code></li>
        <li><code>reboot_instance(credentials, id)</code></li>
        <li><code>stop_instance(credentials, id)</code></li>
        <li><code>destroy_instance(credentials, id)</code></li>
        </ul>
        
        
        <p>As a further example, the <code>hardware_profiles(...)</code> method should
        return an array of <code>HardwareProfile</code> objects. The <code>opts</code> hash, if
        present, must be inspected for <code>:id</code> and <code>:architecture</code> keys. If these keys
        are present, the results should be filtered by the value associated with
        each key. The <code>filter_on(...)</code> helper method is used for this filtering
        and as you can see from existing driver method definitions, is invoked
        in many of the driver collection methods:</p>
        
        <pre><code>def hardware_profiles(credentials, opts=nil)&#x000A;  hardware_profiles = # get all hardware profiles from provider&#x000A;  hardware_profiles = filter_on( hardware_profiles, :id, opts )&#x000A;  hardware_profiles = filter_on( hardware_profiles, :architecture, opts )&#x000A;  return hardware_profiles&#x000A;end&#x000A;</code></pre>
        
        <p>Once you've implemented some of the methods for your driver you can start to
        'run' it and test that things are working as expected. To do this, you need to
        create a yaml file for your driver so that the Deltacloud server 'knows' about
        it. Assuming you've written the driver for cloud Foo and you've called it
        foo_driver.rb (which contains the class Deltacloud::Drivers::Foo::FooDriver)
        , you need to drop a file into <strong>/deltacloud/server/config/drivers</strong> called
        <strong>foo.yaml</strong>, containing the following:</p>
        
        <pre><code>---&#x000A;:foo:&#x000A;  :name Foo&#x000A;</code></pre>
        
        <p>You can then start the Deltacloud server with:</p>
        
        <pre><code>deltacloudd -i foo&#x000A;</code></pre>
        
        <br>
        
        
        <p><a href="#contents">contents</a></p>
        
        <hr />
        
        <br>
        
        
        <h3 id="h2_5">Writing and running tests</h3>
        
        <p>If you add a new feature or write a new driver, you might like to add some tests to
        make sure everything is running as expected. At present the Deltacloud project uses
        Unit tests which live in <strong>/deltacloud/server/tests</strong> as well as Cucumber tests which live
        in <strong>/deltacloud/tests</strong>.</p>
        
        <p>You can invoke the Unit tests:</p>
        
        <pre><code>$ cd /path/to/deltacloud/server&#x000A;$ rake test&#x000A;</code></pre>
        
        <p>As you can see by inspecting the Rakefile in /deltacloud/server, this will invoke all
        Unit tests defined in /deltacloud/server/tests. You can invoke specific driver tests by:</p>
        
        <pre><code>$ cd /path/to/deltacloud/server&#x000A;$ rake test:rackspace&#x000A;      _OR_&#x000A;$ rake test:mock&#x000A;      _etc_&#x000A;</code></pre>
        
        <p>You can invoke the Cucumber tests:</p>
        
        <pre><code>$ cd /path/to/deltacloud/server&#x000A;$ rake cucumber&#x000A;</code></pre>
        
        <p>Alternatively, you can bypass the Rakefile and invoke the cucumber tests directly:</p>
        
        <pre><code>$ cd /path/to/deltacloud/server&#x000A;$ cucumber ../tests/mock&#x000A;      _OR_&#x000A;$ cucumber ../tests/ec2&#x000A;      _etc_&#x000A;</code></pre>
        
        <br>
        
        
        <p><a href="#contents">contents</a></p>
        
        <hr />
        
        <br>
        
        
        <h3 id="h2_6">Licensing - the Apache Individual Contributor License Agreement</h3>
        
        <p>Deltacloud is an <a href="http://www.apache.org/">Apache Software Foundation</a> project. As such
        and in keeping with all Apache projects, contributors are required to sign an individual
        contributor license agreement. This, together with instructions on signing and sending
        the agreement can be <a href="http://www.apache.org/licenses/icla.txt">found here</a>. Please do
        not hesitate to <a href="contact.html">contact us</a> if you have any queries or require any
        clarification about contributing to the Deltacloud project.</p>
        
        <br>
        
        
        <p><a href="#contents">contents</a></p>
        
        <br>
        
        
        
        </br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br>
      </div>
    </div>
    <div id='footer-deltacloud'>
      <div class='container'>
        <p>
          <a href='http://incubator.apache.org'>
            <img alt='Apache Incubator Logo' src='http://incubator.apache.org/images/apache-incubator-logo.png' />
          </a>
        </p>
        <p id='disclaimer'>
          Apache Deltacloud is an effort undergoing incubation at The
          Apache Software Foundation (ASF), sponsored by the Apache
          Incubator PMC. Incubation is required of all newly accepted
          projects until a further review indicates that the
          infrastructure, communications, and decision making process have
          stabilized in a manner consistent with other successful ASF
          projects. While incubation status is not necessarily a reflection
          of the completeness or stability of the code, it does indicate
          that the project has yet to be fully endorsed by the ASF.
        </p>
      </div>
    </div>
  </body>
</html>
